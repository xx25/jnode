<!-- Language Selector Component -->
<style>
.language-selector {
    position: absolute;
    top: 10px;
    right: 10px;
}
.language-selector select {
    padding: 5px;
    border: 1px solid #ccc;
    border-radius: 3px;
}
</style>

<div class="language-selector">
    <select id="langSelect" onchange="changeLanguage(this.value)">
        <option value="en">English</option>
        <option value="ru">Русский</option>
        <option value="de">Deutsch</option>
        <option value="es">Español</option>
        <option value="pt">Português</option>
        <option value="it">Italiano</option>
        <option value="fr">Français</option>
        <option value="pl">Polski</option>
    </select>
</div>

<script>
// Set current language in dropdown
document.addEventListener('DOMContentLoaded', function() {
    var lang = document.cookie.match(/jnode_locale=([^;]+)/);
    if (lang) {
        document.getElementById('langSelect').value = lang[1];
    }
});

function changeLanguage(lang) {
    // Set cookie
    document.cookie = 'jnode_locale=' + lang + ';path=/;max-age=' + (365*24*60*60);
    
    // Reload with new language
    var url = window.location.href;
    url = url.replace(/[?&]lang=[^&]*/g, ''); // Remove existing lang param
    var separator = url.indexOf('?') !== -1 ? '&' : '?';
    window.location.href = url + separator + 'lang=' + lang;
}
</script>